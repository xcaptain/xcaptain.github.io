{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/wechat-platform-development/","result":{"data":{"site":{"siteMetadata":{"author":{"name":"Joey Xie","contacts":{"twitter":"xf_joey"}},"disqusShortname":"joeyxf-com","subtitle":"每天进步一点点","title":"Joey的博客","url":"https://joeyxf.com"}},"markdownRemark":{"id":"5e01a850-c515-5b6a-8db4-82bffd17d3f6","html":"<p>基于微信开放平台的接口可以做很多东西，比如说微信登录、微信支付、现金红包、小程序等，那么微信开发该从哪方面开始呢，这些接口之间有哪些互通的地方，正好最近做了一个微信帐号变更主体相关的工作，来总结一下之前做过的事情</p>\n<h1 id=\"名词解释\" style=\"position:relative;\"><a href=\"#%E5%90%8D%E8%AF%8D%E8%A7%A3%E9%87%8A\" aria-label=\"名词解释 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>名词解释</h1>\n<h2 id=\"微信开放平台-官方链接\" style=\"position:relative;\"><a href=\"#%E5%BE%AE%E4%BF%A1%E5%BC%80%E6%94%BE%E5%B9%B3%E5%8F%B0-%E5%AE%98%E6%96%B9%E9%93%BE%E6%8E%A5\" aria-label=\"微信开放平台 官方链接 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>微信开放平台 <a href=\"https://open.weixin.qq.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">官方链接</a></h2>\n<p>微信开放平台是一切微信开发的基础，首先得注册开放平台帐号，可能要填一些公司信息，然后等待微信审核。等帐号审核通过之后，就能创建应用了。网站应用一般指的是H5应用，也可能做到PC端上，如扫码登录，移动应用指的是iOS,android平台的开发，比如说在android上执行微信登录，公众号应用就是创建一个公众号，基本和技术无关。</p>\n<h2 id=\"微信公众平台\" style=\"position:relative;\"><a href=\"#%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0\" aria-label=\"微信公众平台 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>微信公众平台</h2>\n<p>微信公众平台是微信公众号的管理后台，如发布新的文章，回复粉丝留言，查看数据变更，当然还包括一些基本的开发设置，如<strong>微信登录配置</strong>，公众号回调的一些配置</p>\n<h2 id=\"微信商户平台\" style=\"position:relative;\"><a href=\"#%E5%BE%AE%E4%BF%A1%E5%95%86%E6%88%B7%E5%B9%B3%E5%8F%B0\" aria-label=\"微信商户平台 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>微信商户平台</h2>\n<p>微信商户平台是给商户对账用的，基本流程是先提交公司信息注册帐号，等微信审核之后就能登录后台，然后会有各种功能，与开发相关的功能有微信支付配置(merchant<em>id, payment</em>key, 支付证书文件，授权回调域)</p>\n<h1 id=\"微信开发的基本流程\" style=\"position:relative;\"><a href=\"#%E5%BE%AE%E4%BF%A1%E5%BC%80%E5%8F%91%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B\" aria-label=\"微信开发的基本流程 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>微信开发的基本流程</h1>\n<p>一个企业可能会做很多微信相关的产品，比如说小程序，H5页面，服务号，有一点很重要的就是要有微信登录，如果能保证一个公司内部所有微信产品帐号互通当然是更好的了。一个简单的例子见下：</p>\n<ol>\n<li>在开放平台注册一个网站应用，填写好对应的app<em>id, app</em>secret</li>\n<li>在公众平台注册一个服务号，并且在开发-基本配置 中填写好服务器地址、Token、EncodingAESKey，消息模式建议选安全模式</li>\n<li>开始编写服务端的代码，对于php项目来说可以考虑<a href=\"https://github.com/overtrue/wechat\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">easywechat</a>，很方便快速开发</li>\n<li>按照文档去开发微信登录接口，oauth的模式基本可以理解为用户访问自己网站的一个链接，重定向到微信授权页面，点击确认之后微信服务器回调自己网站的接口，回调成功之后用户被重定向到新的页面，微信回调这段可以做很多事情，比如说保存微信用户信息，生成本地的jwt token，重定向过程中可以把部分信息通过cookie或者拼接到url上的形式返回给用户</li>\n</ol>\n<p>以上描述了简单的微信登录接口的开发，微信支付也差不多，不过支付分的方式比较多如公众号支付，APP支付，小程序支付，核心功能都差不多。</p>","fields":{"slug":"/posts/wechat-platform-development/","tagSlugs":["/tag/web/"]},"frontmatter":{"date":"2018-03-08","description":"使用过微信开放平台的多种功能，以下进行一个总结备忘...","tags":["Web"],"title":"微信平台开发流程总结"}}},"pageContext":{"slug":"/posts/wechat-platform-development/"}}}